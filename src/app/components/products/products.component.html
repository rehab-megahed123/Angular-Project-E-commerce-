<h1> total price:{{ totalOrderPrice}}</h1>



<div class="row row-cols-1 row-cols-md-3 g-4">
    <!-- <ng-container *ngFor="let product of products" [class.d-none]="product.catId != selectedCategoryId"> -->
        @for(product of filterList;track product.id;let i=$index){
  <div class="col"  *ngIf="product.quantity!=0" >

    <div class="card"  [ngClass]="(product.quantity==1)?'text-danger':'text-success'"
    [ngStyle]="{border:(product.quantity==1)?'1px solid red':'1px solid green'}"
    >
      <img [src]="product.imgUrl" class="card-img-top" alt="Product Image">
      <div class="card-body" appHighlightTag="grey" externalColor="pink" [style.background-color]="(product.quantity == 0) ? 'yellow' : 'white'">
        <h5 class="card-title">Name: {{ product.name }}</h5>
        <p class="card-text" >Price: {{ product.price | currency :'EUR'}}</p>
        <!-- <p class="card-text" *ngIf="product.quantity!=1 ; else LastItem">Quantity: {{ product.quantity }}</p>
        <ng-template #LastItem> <p>Quantity:Last Item</p></ng-template> -->
        <!-- <div [ngSwitch]="product.quantity">
           <p *ngSwitchCase="1">Quantity:The last Item</p>
           <p *ngSwitchCase="2">Quantity:The last two Items</p>
           <p *ngSwitchDefault="">Quantity:{{product.quantity}}</p>
        </div> -->
        @switch(product.quantity){
            @case(1){
                Quantity:The last Item
            }
            @case(2){
                Quantity:The last two Items
            }@default {
                Quantity:{{product.quantity}}
            }
        }
        <button class="btn btn-success" (click)="navigateTodetails(product.id)">Details</button>

        
        <!-- <input type="number" #CountInput class="form-control mb-3" min="1" [max]="product.quantity" placeholder="Enter quantity">

       
        <button class="btn btn-success" 
                (click)="buy(CountInput.value, product.price)" 
                [disabled]="(+CountInput.value <= 0 || +CountInput.value > product.quantity)">
          Buy
        </button> -->
      </div>
   
    </div>

  </div>
}@empty{
    <h1>No Products</h1>
}
<!-- </ng-container> -->
</div>






<h2>{{num | square :3}}</h2>
